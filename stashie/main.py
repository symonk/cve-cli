import typer

from ._constants import DEFAULT_TOKEN_FULLPATH

app = typer.Typer()


def main(token_path: str = typer.Option(str(DEFAULT_TOKEN_FULLPATH))):
    """
    Entry point into the stashie command line.

    :param token_path: A file path containing the bitbucket auth token to be used.  This
    file should store the token only on the first line of the file

    :return: None
    """
    app()
    typer.secho("Stashie has been successfully loaded...", fg=typer.colors.GREEN)
    typer.Exit()
